<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ADHD 진단 질문</title>
  <link rel="stylesheet" href="/static/css/diagnosis.css" />
</head>
<body>
  <div id="diagnosis-ui">

    <!-- 진행 바 -->
    <div class="progress-container">
      <div class="progress-bar" id="progressBar"></div>
    </div>

    <!-- 현재 문항 출력 -->
    <div class="question-container">
      <div id="question-number" class="question-number"></div>
      <div id="question" class="question-text">문제가 여기에 표시됩니다.</div>
    </div>

    <!-- 답변 선택지 -->
    <div class="checkbox-group">
      <div>
        <input type="checkbox" id="checkbox-1" value="1">
        <label for="checkbox-1">1. 전혀 그렇지 않다</label>
      </div>
      <div>
        <input type="checkbox" id="checkbox-2" value="2">
        <label for="checkbox-2">2. 약간 그렇다</label>
      </div>
      <div>
        <input type="checkbox" id="checkbox-3" value="3">
        <label for="checkbox-3">3. 꽤 그렇다</label>
      </div>
      <div>
        <input type="checkbox" id="checkbox-4" value="4">
        <label for="checkbox-4">4. 아주 많이 그렇다</label>
      </div>
    </div>


    <!-- 1 + 2. 타이머 + 텍스트 + 음성 인식 결과 표시용 -->
    <div id="countdown-wrapper"></div>

    <!-- 제어 버튼 영역 -->
    <div class="diagnosis-controls">
      <button onclick="pauseAudio()">일시정지</button>
      <button onclick="resumeAudio()">이어하기</button>
      <button onclick="replayAudio()">다시듣기</button>
      <button onclick="skipQuestion()">건너뛰기</button>
      <button onclick="restartDiagnosis()">처음부터</button>
    </div>

    <!-- 결과 보기 버튼 -->
    <div class="result-button-container">
      <button id="result-button" class="hidden">결과 보기</button>
    </div>
  </div>
  <script src="/config.js"></script>
  <script src="/static/js/diagnosis.js"></script>
  <script>
    const isHome = ["localhost", "127.0.0.1"].includes(location.hostname) ||
                   (location.hostname.startsWith("192.168.") && location.hostname !== "192.168.3.19");
    if (isHome) {
      const script = document.createElement("script");
      script.src = "/static/js/websocket_init.js";
      document.body.appendChild(script);
    }
  </script>
</body>
</html>